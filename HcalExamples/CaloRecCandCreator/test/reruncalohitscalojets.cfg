process RERUNCALOJETS = {
  source = PoolSource {
     untracked vstring fileNames = {
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0019/28107FD9-FA9B-DB11-8670-003048770DC4.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0019/46D42297-769B-DB11-A18B-0030487721F8.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0019/68D6397E-AE9B-DB11-B194-003048770348.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0019/CE631E98-769B-DB11-B79E-0030487724FA.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/02771C60-6A9F-DB11-8FA4-0030487724FC.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/02B58028-769C-DB11-BECE-0030482C93B2.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/06BDE0A0-EB9C-DB11-BA43-0030482CD876.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/08CB22D5-EC9C-DB11-9C55-0030482CDA00.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/10A19CE7-EB9C-DB11-B7B2-003048770DB6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/16AB8891-DC9C-DB11-A913-0030482C932A.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/187DC504-E09C-DB11-90E3-0030482CDA8C.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/1AD92231-379F-DB11-AEE5-0002B3D90FC4.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/1CAD7642-6A9F-DB11-ACE7-0030487721F6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/1CCA64BF-029D-DB11-A600-003048770D6A.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/209B0125-E09C-DB11-8DB7-000E0C4DE4C2.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/20BBD859-DC9C-DB11-BD9E-003048770C66.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/24241300-EE9C-DB11-A176-003048770E30.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/2CBAFDEC-EB9C-DB11-9930-003048770C66.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/2CF58E48-DD9C-DB11-B1B9-003048770D66.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/2E84E60A-719F-DB11-8499-003048770C58.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/2E881089-6A9F-DB11-BD10-0030487724FC.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/3827BCAD-E99C-DB11-BDB5-0030482BFB24.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/3C37A2D8-719F-DB11-9FF6-003048770CCA.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/3EADB6D9-EB9C-DB11-AB30-0030482C932A.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/3EAE2E5C-DC9C-DB11-854F-003048770CE2.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/402F4038-769C-DB11-8138-0030482CD9FC.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/40A0CDC1-249D-DB11-924B-003048770C66.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/4429D19D-3D9F-DB11-A08D-0002B3D90CF7.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/482AD19D-3D9F-DB11-8C2C-0002B3D90CF7.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/4E7A4E8D-439F-DB11-8668-003048772614.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/4ECD87B2-E99C-DB11-BB9D-0030482CD8A8.root',
//'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/4EF96094-E99C-DB11-ABBF-0030482CDA8C.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/50BDC42E-769C-DB11-BDDF-0030482CC1D2.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/561C9E29-EC9C-DB11-8AE1-003048770C6A.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/5EB765DD-EB9C-DB11-877A-0030482C82BA.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/661B3846-129D-DB11-8D5E-003048770DB6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/6ADD31E4-EB9C-DB11-AE09-000E0C4DEA44.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/6E941853-6A9F-DB11-9E8D-0030487724FC.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/70D49A6F-DC9C-DB11-A8E5-003048770C58.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/74126941-2F9F-DB11-9DA6-0002B3D90FC4.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/746CC61E-F29C-DB11-8960-003048772386.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/760A167C-DC9C-DB11-9B49-0030482CC1F0.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/76B80C5A-DC9C-DB11-8CB9-003048770B8E.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/7843E5AA-E99C-DB11-A7E8-0030482C932A.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/78FD4D0F-E09C-DB11-A6B7-0030482C93A6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/7C712791-769C-DB11-8FB4-00304877261E.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/82F4D084-F59C-DB11-9407-0030482374F6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/841A9D38-769C-DB11-84E5-0030482C92F8.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/847E1E22-F29C-DB11-BCA5-003048770B50.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/84DCFBBB-E09C-DB11-B45A-003048770CD0.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/84F264CE-DB9C-DB11-B279-00304823F70A.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/8C72B42F-769C-DB11-97DD-003048770DB6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/8C9C2467-6A9F-DB11-A7C1-0030487721F6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/9261359B-769C-DB11-8F77-003048772386.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/92DD74AD-E99C-DB11-AE8D-003048770DCC.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/949FA004-029D-DB11-9A01-0002B3D90C02.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_3000_3500/0020/9863D74F-6A9F-DB11-8D22-0030487721F2.root'
     }
     untracked int32 maxEvents = 1
  }

  module out = PoolOutputModule
  { 
    untracked string fileName = "/scratch/ratnikov/data/jetsfromhits.root"
      untracked vstring outputCommands = {
     "drop *",
     "keep recoCaloJets_*_*_*",
     "keep recoGenJets_*_*_*",
     "keep recoBasicJets_*_*_*",
     "keep *_caloTowers_*_*",
     "keep *_towerMaker_*_*",
     "keep *_caloRecHitCandidates_*_*"
     }
  }

   service = Timing {}

include "Configuration/StandardSequences/data/FakeConditions.cff"
include "RecoLocalCalo/Configuration/data/RecoLocalCalo.cff"
include "RecoJets/Configuration/data/RecoJets.cff"

module caloRecHitCandidates = CaloRecHitCandidateProducer {
      double HBThreshold = 0.9     // GeV, Scheme B
      double HOThreshold = 1.1     // GeV, Scheme B
      double HESThreshold = 1.4    // GeV, Scheme B
      double HEDThreshold = 1.4    // GeV, Scheme B
      double HF1Threshold = 0.5    // GeV, ORCA value
      double HF2Threshold = 0.5    // GeV, ORCA value
      double EBThreshold = 0.09    // GeV, ORCA value w/o selective readout
      double EEThreshold = 0.45    // GeV, ORCA value w/o selective readout
      
      double EBWeight = 1.0
      double EEWeight = 1.0
      double HBWeight = 1.0
      double HESWeight = 1.0
      double HEDWeight = 1.0
      double HOWeight = 1.0
      double HF1Weight = 1.0
      double HF2Weight = 1.0
      bool UseHO = true
      InputTag hbheInput = hbhereco
      InputTag hoInput = horeco
      InputTag hfInput = hfreco
      VInputTag ecalInputs = { ecalRecHit:EcalRecHitsEB, ecalRecHit:EcalRecHitsEE }
      untracked bool AllowMissingInputs = false
}

  module midPointCone5BasicJetsFromCalohits = MidpointJetProducer {
       untracked string alias = "MC5CalohitJet"
       using MconeJetParameters
       double inputEtMin = 0.5
	double inputEMin = 0.
        InputTag src = caloRecHitCandidates
        untracked string jetType = "BasicJet"
        untracked bool verbose = true
       
       double coneRadius = 0.5       
}


# path p = { hcalLocalRecoSequence, caloRecHitCandidates}
path p = { hcalLocalRecoSequence, caloRecHitCandidates, midPointCone5BasicJetsFromCalohits}

  endpath outpath = {out}
}
